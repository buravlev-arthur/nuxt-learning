import{u as te}from"./fetch.76f0f907.js";import{d as re,h as ne,o as se,c as ie,a as b,t as _,u as S}from"./entry.d5ea619f.js";class oe{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,r){this.keyToValue.set(t,r),this.valueToKey.set(r,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class M{constructor(t){this.generateIdentifier=t,this.kv=new oe}register(t,r){this.kv.getByValue(t)||(r||(r=this.generateIdentifier(t)),this.kv.set(r,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class ae extends M{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,r){typeof r=="object"?(r.allowProps&&this.classToAllowedProps.set(t,r.allowProps),super.register(t,r.identifier)):super.register(t,r)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function le(e){if("values"in Object)return Object.values(e);const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function ue(e,t){const r=le(e);if("find"in r)return r.find(t);const n=r;for(let s=0;s<n.length;s++){const i=n[s];if(t(i))return i}}function p(e,t){Object.entries(e).forEach(([r,n])=>t(n,r))}function k(e,t){return e.indexOf(t)!==-1}function z(e,t){for(let r=0;r<e.length;r++){const n=e[r];if(t(n))return n}}class ce{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return ue(this.transfomers,r=>r.isApplicable(t))}findByName(t){return this.transfomers[t]}}const fe=e=>Object.prototype.toString.call(e).slice(8,-1),q=e=>typeof e>"u",ye=e=>e===null,R=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,v=e=>R(e)&&Object.keys(e).length===0,d=e=>Array.isArray(e),de=e=>typeof e=="string",me=e=>typeof e=="number"&&!isNaN(e),ge=e=>typeof e=="boolean",pe=e=>e instanceof RegExp,I=e=>e instanceof Map,A=e=>e instanceof Set,x=e=>fe(e)==="Symbol",he=e=>e instanceof Date&&!isNaN(e.valueOf()),we=e=>e instanceof Error,K=e=>typeof e=="number"&&isNaN(e),be=e=>ge(e)||ye(e)||q(e)||me(e)||de(e)||x(e),Ee=e=>typeof e=="bigint",Re=e=>e===1/0||e===-1/0,Ie=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),Ae=e=>e instanceof URL,L=e=>e.replace(/\./g,"\\."),T=e=>e.map(String).map(L).join("."),E=e=>{const t=[];let r="";for(let s=0;s<e.length;s++){let i=e.charAt(s);if(i==="\\"&&e.charAt(s+1)==="."){r+=".",s++;continue}if(i==="."){t.push(r),r="";continue}r+=i}const n=r;return t.push(n),t};function f(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}const $=[f(q,"undefined",()=>null,()=>{}),f(Ee,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),f(he,"Date",e=>e.toISOString(),e=>new Date(e)),f(we,"Error",(e,t)=>{const r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r},(e,t)=>{const r=new Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r}),f(pe,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}),f(A,"set",e=>[...e.values()],e=>new Set(e)),f(I,"map",e=>[...e.entries()],e=>new Map(e)),f(e=>K(e)||Re(e),"number",e=>K(e)?"NaN":e>0?"Infinity":"-Infinity",Number),f(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),f(Ae,"URL",e=>e.toString(),e=>new URL(e))];function P(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}const F=P((e,t)=>x(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{const n=r.symbolRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),Oe=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),Q=P(Ie,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const r=Oe[t[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(e)});function G(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const X=P(G,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};const n={};return r.forEach(s=>{n[s]=e[s]}),n},(e,t,r)=>{const n=r.classRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(n.prototype),e)}),H=P((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{const n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),ke=[X,F,H,Q],U=(e,t)=>{const r=z(ke,s=>s.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};const n=z($,s=>s.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation}},W={};$.forEach(e=>{W[e.annotation]=e});const Pe=(e,t,r)=>{if(d(t))switch(t[0]){case"symbol":return F.untransform(e,t,r);case"class":return X.untransform(e,t,r);case"custom":return H.untransform(e,t,r);case"typed-array":return Q.untransform(e,t,r);default:throw new Error("Unknown transformation: "+t)}else{const n=W[t];if(!n)throw new Error("Unknown transformation: "+t);return n.untransform(e,r)}},g=(e,t)=>{const r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function Y(e){if(k(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(k(e,"prototype"))throw new Error("prototype is not allowed as a property");if(k(e,"constructor"))throw new Error("constructor is not allowed as a property")}const _e=(e,t)=>{Y(t);for(let r=0;r<t.length;r++){const n=t[r];if(A(e))e=g(e,+n);else if(I(e)){const s=+n,i=+t[++r]==0?"key":"value",o=g(e,s);switch(i){case"key":e=o;break;case"value":e=e.get(o);break}}else e=e[n]}return e},V=(e,t,r)=>{if(Y(t),t.length===0)return r(e);let n=e;for(let i=0;i<t.length-1;i++){const o=t[i];if(d(n)){const l=+o;n=n[l]}else if(R(n))n=n[o];else if(A(n)){const l=+o;n=g(n,l)}else if(I(n)){if(i===t.length-2)break;const u=+o,O=+t[++i]==0?"key":"value",m=g(n,u);switch(O){case"key":n=m;break;case"value":n=n.get(m);break}}}const s=t[t.length-1];if(d(n)?n[+s]=r(n[+s]):R(n)&&(n[s]=r(n[s])),A(n)){const i=g(n,+s),o=r(i);i!==o&&(n.delete(i),n.add(o))}if(I(n)){const i=+t[t.length-2],o=g(n,i);switch(+s==0?"key":"value"){case"key":{const u=r(o);n.set(u,n.get(o)),u!==o&&n.delete(o);break}case"value":{n.set(o,r(n.get(o)));break}}}return e};function N(e,t,r=[]){if(!e)return;if(!d(e)){p(e,(i,o)=>N(i,t,[...r,...E(o)]));return}const[n,s]=e;s&&p(s,(i,o)=>{N(i,t,[...r,...E(o)])}),t(n,r)}function Se(e,t,r){return N(t,(n,s)=>{e=V(e,s,i=>Pe(i,n,r))}),e}function Te(e,t){function r(n,s){const i=_e(e,E(s));n.map(E).forEach(o=>{e=V(e,o,()=>i)})}if(d(t)){const[n,s]=t;n.forEach(i=>{e=V(e,E(i),()=>e)}),s&&p(s,r)}else p(t,r);return e}const ve=(e,t)=>R(e)||d(e)||I(e)||A(e)||G(e,t);function Ve(e,t,r){const n=r.get(e);n?n.push(t):r.set(e,[t])}function Ne(e,t){const r={};let n;return e.forEach(s=>{if(s.length<=1)return;t||(s=s.map(l=>l.map(String)).sort((l,u)=>l.length-u.length));const[i,...o]=s;i.length===0?n=o.map(T):r[T(i)]=o.map(T)}),n?v(r)?[n]:[n,r]:v(r)?void 0:r}const Z=(e,t,r,n,s=[],i=[],o=new Map)=>{const l=be(e);if(!l){Ve(e,s,t);const y=o.get(e);if(y)return n?{transformedValue:null}:y}if(!ve(e,r)){const y=U(e,r),c=y?{transformedValue:y.value,annotations:[y.type]}:{transformedValue:e};return l||o.set(e,c),c}if(k(i,e))return{transformedValue:null};const u=U(e,r),O=(u==null?void 0:u.value)??e,m=d(O)?[]:{},h={};p(O,(y,c)=>{if(c==="__proto__"||c==="constructor"||c==="prototype")throw new Error(`Detected property ${c}. This is a prototype pollution risk, please remove it from your object.`);const w=Z(y,t,r,n,[...s,c],[...i,e],o);m[c]=w.transformedValue,d(w.annotations)?h[c]=w.annotations:R(w.annotations)&&p(w.annotations,(J,ee)=>{h[L(c)+"."+ee]=J})});const D=v(h)?{transformedValue:m,annotations:u?[u.type]:void 0}:{transformedValue:m,annotations:u?[u.type,h]:h};return l||o.set(e,D),D};function j(e){return Object.prototype.toString.call(e).slice(8,-1)}function C(e){return j(e)==="Array"}function Be(e){if(j(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function De(e,t,r,n,s){const i={}.propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";i==="enumerable"&&(e[t]=r),s&&i==="nonenumerable"&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}function B(e,t={}){if(C(e))return e.map(s=>B(s,t));if(!Be(e))return e;const r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertySymbols(e);return[...r,...n].reduce((s,i)=>{if(C(t.props)&&!t.props.includes(i))return s;const o=e[i],l=B(o,t);return De(s,i,l,e,t.nonenumerable),s},{})}class a{constructor({dedupe:t=!1}={}){this.classRegistry=new ae,this.symbolRegistry=new M(r=>r.description??""),this.customTransformerRegistry=new ce,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const r=new Map,n=Z(t,r,this,this.dedupe),s={json:n.transformedValue};n.annotations&&(s.meta={...s.meta,values:n.annotations});const i=Ne(r,this.dedupe);return i&&(s.meta={...s.meta,referentialEqualities:i}),s}deserialize(t){const{json:r,meta:n}=t;let s=B(r);return n!=null&&n.values&&(s=Se(s,n.values,this)),n!=null&&n.referentialEqualities&&(s=Te(s,n.referentialEqualities)),s}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,r){this.classRegistry.register(t,r)}registerSymbol(t,r){this.symbolRegistry.register(t,r)}registerCustom(t,r){this.customTransformerRegistry.register({name:r,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}a.defaultInstance=new a;a.serialize=a.defaultInstance.serialize.bind(a.defaultInstance);a.deserialize=a.defaultInstance.deserialize.bind(a.defaultInstance);a.stringify=a.defaultInstance.stringify.bind(a.defaultInstance);a.parse=a.defaultInstance.parse.bind(a.defaultInstance);a.registerClass=a.defaultInstance.registerClass.bind(a.defaultInstance);a.registerSymbol=a.defaultInstance.registerSymbol.bind(a.defaultInstance);a.registerCustom=a.defaultInstance.registerCustom.bind(a.defaultInstance);a.allowErrorProps=a.defaultInstance.allowErrorProps.bind(a.defaultInstance);a.serialize;a.deserialize;a.stringify;a.parse;a.registerClass;a.registerCustom;a.registerSymbol;a.allowErrorProps;const ze={id:"container"},Ke=b("p",null,"login page",-1),Ue=b("h6",null,"Данные авторизации:",-1),qe=re({__name:"login",async setup(e){let t,r;const{data:n}=([t,r]=ne(()=>te("/api/auth",{transform:s=>a.parse(s)},"$4Q7McJQDXG")),t=await t,r(),t);return(s,i)=>{var o,l,u;return se(),ie("div",ze,[Ke,Ue,b("p",null,"Login: "+_((o=S(n))==null?void 0:o.auth.user),1),b("p",null,"Password: "+_((l=S(n))==null?void 0:l.auth.password),1),b("p",null,"Date: "+_((u=S(n))==null?void 0:u.createdAt.toLocaleDateString()),1)])}}});export{qe as default};
